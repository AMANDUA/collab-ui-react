#!/bin/bash

function abort {
    >&2 echo "Aborting '`basename $0`'"
    exit 1
}

function get_physical_path {
    local dir=${1}
    if [ ! -d "${dir}" ]; then
        >&2 echo "Error: get_physical_path: invalid path ${dir}"
        return 1
    fi

    cd "${dir}"
    pwd -P
    cd ~-
}

# note:
# - this function expects banner contents to be piped in
#
#   ```
#   # e.g. cat contents of './foo'
#   cat ./foo | print_notice_banner
#
#   # e.g. cat heredoc contents
#   cat << _EOF | print_notice_banner
#   hello world.
#   _EOF
#   ```
# TODO: refactor this out of '.githooks/pre-rebase/include/pre-rebase-helpers'
function print_notice_banner {
    echo ""
    echo "********************************** ATTENTION ***********************************"
    echo ""
    cat
    echo ""
    echo "********************************************************************************"
    echo ""
}
