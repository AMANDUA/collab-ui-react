<div class="search-filters-redux searchFilter">
  <form ng-submit="dctrl.onInputSubmit()" ng-class="{ 'active': dctrl.inputActive}">
    <div class="searchbox" onclick="angular.element('#searchFilterInput').focus();">
      <div class="searchinput" ng-class="{'searcherror': dctrl.searchObject.hasError}">
        <i class="icon icon-search"></i>
        <input
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="false"
          id="searchFilterInput"
          cs-expandinginput
          ng-model="dctrl.searchInput"
          ng-change="dctrl.onInputChange()"
          type="text"
          placeholder="{{::'common.search' | translate}}"
          ng-focus="searchFilterInput.inputFocus = true; dctrl.inputActive=true; searchFilterInput.expand()"
          ng-blur="searchFilterInput.inputFocus = true; dctrl.inputActive=false"
          focus-width="150"
          style="width: 1px; min-width: 1px; max-width: 200px;"
          cs-expandinginput-minwidth="1px"
          class="form-control ng-valid ng-isolate-scope ng-dirty ng-valid-parse ng-touched ng-empty"
        >
        <i class="icon icon-exit-outline clear" ng-click="dctrl.clearSearchInput();"></i>
      </div>
    </div>
  </form>
  <span class="search-filters-only">
    <cs-searchfilter filters="dctrl.searchFilters"
                     search-item-fn="dctrl.setCurrentSearch(searchStr)"
                     set-filter-fn="dctrl.setCurrentFilterValue(filter.filterValue)"
                     ng-class="{'searcherror': dctrl.searchObject.hasError}">
    </cs-searchfilter>
  </span>

</div>
<div class="bullets">
  <span class="bullet" ng-if="!bullet.isBeingEdited()" ng-repeat="bullet in dctrl.getBullets()"
        ng-dblclick="dctrl.editBullet(bullet)">
    <span class="field-descriptor" ng-if="bullet.field">{{bullet.field}}: </span>
    <span>{{bullet.getQueryWithoutField() || bullet.toQuery()}}</span>
    <i class="icon icon-close" ng-click="dctrl.removeBullet(bullet)"/>
  </span>
</div>

<!--<label style="margin:0; font-size: xx-small">{{ dctrl.searchObject.parsedQuery.toQuery()}}</label>-->
