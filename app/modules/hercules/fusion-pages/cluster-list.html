<div class="fusion-cluster-list">
  <cs-page-header title="{{::'hercules.fusion.list.title' | translate}}" back="true" back-url="resourceList.backState"></cs-page-header>
  <cs-page-sub-header >
    <cs-page-sub-header-left>
      <cs-searchfilter filters="resourceList.filters" set-filter-fn="resourceList.setFilter(filter)" search-item-fn="resourceList.searchData(searchStr)" placeholder-text="{{resourceList.placeholder.name}}" ng-model="resourceList.placeholder.count"></cs-searchfilter>
    </cs-page-sub-header-left>
    <cs-page-sub-header-right>
      <button class="btn btn--people"
              type="button"
              translate="hercules.fusion.list.add-resource"
              ng-click="resourceList.addResource()"></button>
    </cs-page-sub-header-right>
  </cs-page-sub-header>
  <div class="content-container">
    <div ng-if="resourceList.loading" class="loading-list">
      <span class="spinner-example--large">
        <i class="icon icon-spinner"></i>
      </span>
    </div>
    <div ng-if="!resourceList.loading">
      <div ng-if="resourceList.showResourceGroups">
        <!-- Expressway -->
        <div ng-if="resourceList.displayedGroups[0].display">
          <h5><span class="h5 remove-margin" translate="hercules.fusion.list.expressway"></span> <span cs-dropdown>
            <button cs-dropdown-toggle class="btn--none dropdown-toggle">
              <i class="icon icon-cog"></i>
            </button>
            <ul cs-dropdown-menu class="dropdown-menu dropdown-primary">
              <li ng-if="resourceList.hasMultipleReleaseChannelOptions"><a ng-click="resourceList.setDefaultReleaseChannel()" translate="hercules.fusion.list.set-default-release-channel"></a></li>
              <li><a ng-click="resourceList.addResourceGroup()" translate="hercules.fusion.list.add-resource-group"></a></li>
            </ul>
          </span></h5>
          <p class="no-clusters" ng-if="resourceList.displayedGroups[0].groups.length === 0 && resourceList.displayedGroups[0].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
          <cs-card-layout block-view="true" class="resource-groups-list">
            <hs-resource-group-card ng-repeat="group in resourceList.displayedGroups[0].groups" resource-group="group" on-change="resourceList.refreshList()" force-open="resourceList.openAllGroups"></hs-resource-group-card>
          </cs-card-layout>
          <cs-card-layout block-view="true">
            <hs-cluster-card ng-repeat="cluster in resourceList.displayedGroups[0].unassigned" cluster="cluster"></hs-cluster-card>
          </cs-card-layout>
        </div>
        <!-- Media -->
        <div ng-if="resourceList.displayedGroups[1].display">
          <h5 translate="hercules.fusion.list.mediafusion"></h5>
          <p class="no-clusters" ng-if="resourceList.displayedGroups[1].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
          <cs-card-layout block-view="true">
            <hs-cluster-card ng-repeat="cluster in resourceList.displayedGroups[1].unassigned" cluster="cluster"></hs-cluster-card>
          </cs-card-layout>
        </div>
        <!-- HDS -->
        <div ng-if="resourceList.displayedGroups[2].display">
          <h5 translate="hercules.fusion.list.hds"></h5>
          <p class="no-clusters" ng-if="resourceList.displayedGroups[2].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
          <cs-card-layout block-view="true">
            <hs-cluster-card ng-repeat="cluster in resourceList.displayedGroups[2].unassigned" cluster="cluster"></hs-cluster-card>
          </cs-card-layout>
        </div>
        <!-- Context -->
        <div ng-if="resourceList.displayedGroups[3].display">
          <h5 translate="hercules.fusion.list.context"></h5>
          <p class="no-clusters" ng-if="resourceList.displayedGroups[3].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
          <cs-card-layout block-view="true">
            <hs-cluster-card ng-repeat="cluster in resourceList.displayedGroups[3].unassigned" cluster="cluster"></hs-cluster-card>
          </cs-card-layout>
        </div>
        <!-- UCM -->
        <div ng-if="resourceList.displayedGroups[4].display">
          <h5 translate="hercules.fusion.list.cucm"></h5>
          <p class="no-clusters" ng-if="resourceList.displayedGroups[4].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
          <cs-card-layout block-view="true">
            <hs-cluster-card ng-repeat="cluster in resourceList.displayedGroups[4].unassigned" cluster="cluster"></hs-cluster-card>
          </cs-card-layout>
        </div>
      </div>

      <div ng-if="!resourceList.showResourceGroups">
        <div ng-if="!resourceList.loading && resourceList.displayedClusters.length === 0" class="empty-list" translate="hercules.fusion.list.empty"></div>
        <cs-card-layout block-view="true">
          <hs-cluster-card ng-repeat="cluster in resourceList.displayedClusters" cluster="cluster"></hs-cluster-card>
        </cs-card-layout>
      </div>
    </div>
  </div>
</div>
