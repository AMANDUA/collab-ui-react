<div class="row report-parameters">
  <div class="columns small-11 medium-11 large-9">
    <h4>{{ediscoverySearchCtrl.searchCriteria.displayName}}</h4>
    <h6 class="results-spacing result-title" translate="ediscovery.searchResults.description"></h6>
    <h6>{{ediscoverySearchCtrl.generateDescription}}</h6>
    <h6 class="results-spacing result-title" translate="ediscovery.searchResults.exportFormat"></h6>
    <h6>{{ediscoverySearchCtrl.exportSelected}}</h6>
  </div>
  <div class="columns small-11 medium-11 large-9">
    <div ng-if="ediscoverySearchCtrl.report && !ediscoverySearchCtrl.report.isDone" class="result-section">
      <h6 translate="ediscovery.searchResults.reportStatus"></h6>
      <div>
        <div class="progressbar-info">
          <span class="progressbar-label">{{('ediscovery.reportStates.' + ediscoverySearchCtrl.report.state | translate) + '...'}}</span>
          <span class="progressbar-progress">{{ediscoverySearchCtrl.report.progress || 0}}%</span>
        </div>
        <progressbar class="progress-striped" value="ediscoverySearchCtrl.reportProgress()"></progressbar>
      </div>
      <span ng-if="ediscoverySearchCtrl.report.state === 'ABORTED'" translate="ediscovery.reportStates.ABORTED"></span>
      <div class="row" ng-if="ediscoverySearchCtrl.report.state === 'FAILED' || ediscoverySearchCtrl.report.timeoutDetected" ng-class="{'report-timeout' : ediscoverySearchCtrl.report.timeoutDetected }">
        <div class="columns small-1">
          <i class="icon icon-warning"></i>
        </div>
        <div class="columns small-11 small-collapse failure" ng-if="ediscoverySearchCtrl.report.state === 'FAILED'">
          <span translate="ediscovery.reportsList.failure"></span>:
          <span>{{'ediscovery.reportFailureReasons.' + ediscoverySearchCtrl.report.failureReason | translate}}</span>
          <br>
          <span translate="ediscovery.reportsList.tryAgain"></span>
        </div>
        <div class="columns small-11 small-collapse failure" ng-if="ediscoverySearchCtrl.report.timeoutDetected">
          <span translate="ediscovery.searchResults.reportTimeout"></span>
        </div>
      </div>
    </div>
  </div>
  <div class="columns small-1 end">
    <div ng-if="ediscoverySearchCtrl.report && ediscoverySearchCtrl.report.canBeCancelled">
      <span ng-if="!ediscoverySearchCtrl.cancellingReport"
            ng-click="ediscoverySearchCtrl.cancelReport(ediscoverySearchCtrl.report.id)"
            class="cancel-icon">
        <i class="icon icon-remove"
          tabindex="0"
          tooltip-placement="top"
          tooltip="{{::'ediscovery.reportsList.cancelReport' | translate}}"
          tooltip-animation="false"
          tooltip-append-to-body="true"
          tooltip-trigger="focus mouseenter"
          aria-label="{{::'ediscovery.reportsList.cancelReport' | translate}}">
        </i>
      </span>
      <span ng-if="ediscoverySearchCtrl.cancellingReport" class="cancel-icon">
        <i class="icon icon-spinner"></i>
      </span>
    </div>
  </div>
</div>
