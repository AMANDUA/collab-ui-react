<cs-page-header title-name="{{'reportsPage.pageTitle' | translate}}"></cs-page-header>

<div class="content-container partner-spark-reports">
  <div ng-if="!$ctrl.isIframeLoaded"
       id="sparkReportsIframeLoading"
       name="sparkReportsIframeLoading">
    <br/>
    <i ng-hide="$ctrl.isNoData" class="icon icon-spinner metrics-loading-icon"></i>
    <p class="metrics-loading-data" translate="reportsPage.loadingData"></p>
    <p class="metrics-loading-description" translate="reportsPage.loadingDescription"></p>
    <div ng-show="$ctrl.isNoData" translate="reportsPage.noData"></div>
  </div>

  <div ng-show="$ctrl.isIframeLoaded"
       id="iframeContainer"
       name="iframeContainer"
       class="full-size">
    <iframe id="sparkReportsIframeContainer"
            name="sparkReportsIframeContainer"
            ng-onload="$ctrl.iframeLoaded('#sparkReportsIframeContainer')"
            i-frame-resizable="iframeContainer"
            class="full-size__iframe"
            frameborder="0">
    </iframe>
  </div>
  <form id="iframeForm"
        name="iframeForm"
        action={{$ctrl.sparkReports.appData.trustIframeUrl}}
        method="get"
        target="sparkReportsIframeContainer">

    <input id="appid"
           name="appid"
           type="hidden"
           value={{$ctrl.sparkReports.appData.appName}} />

    <input id="QlikTicket"
           name="QlikTicket"
           type="hidden"
           value={{$ctrl.sparkReports.appData.QlikTicket}} />

    <input id="persistent"
           name="persistent"
           type="hidden"
           value={{$ctrl.sparkReports.appData.persistent}} />

    <input id="vID"
           name="vID"
           type="hidden"
           value={{$ctrl.sparkReports.appData.vID}} />

    <input id="node"
           name="node"
           type="hidden"
           title="node"
           value={{$ctrl.sparkReports.appData.node}} />

    <button id="submitFormBtn"
            type="submit"
            translate="common.submit"
            hidden>
    </button>
  </form>
</div>
