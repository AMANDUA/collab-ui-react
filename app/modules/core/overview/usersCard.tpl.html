<header>
  <div class="overview-header">
  <i class="icon" ng-class="card.icon"></i>
  <span>{{card.name | translate}}</span>
  </div>
</header>
<section>
  <div class="convert-block">
    <div class="convert-text">
      <div ng-if="!card.showLicenseCard">
        <span class="convert-nr h4">{{(card.usersToConvert | number) || 'N/A'}}</span>&nbsp;
        <span translate="overview.cards.users.convertText" id="convertText"></span>
      </div>
      <div ng-if="card.showLicenseCard">
        <span translate="overview.cards.users.unassignedLicenses"
          translate-values="{licenseNumber: card.licenseNumber, licenseType: card.licenseType}"></span>
      </div>
    </div>
    <button ng-if="!card.showLicenseCard" id="convertButton" class="btn btn--cta" translate="overview.cards.users.convertButton" ng-click="card.openConvertModal()" ng-disabled="card.isConvertButtonDisabled()">
    </button>
    <button ng-if="card.showLicenseCard" id="convertButton" class="btn btn--primary" translate="overview.cards.licenses.manageUsersButton" ng-click="card.manageUsers()">
    </button>
  </div>
  <div class="status-block">
    <ul>
      <li class="status-block__item directory-synchronization">
        <i class="icon icon-spinner" ng-if="card.isUpdating"></i>
        <i class="icon icon-circle status-indicator" ng-class="{ 'success' : card.dirsyncEnabled, 'disabled': !card.dirsyncEnabled }" ng-if="!card.isUpdating"></i>
        <span translate="overview.cards.users.directorySynchronization"></span>
        <a href id="viewDirSyncSettings" ng-click="card.showDirSyncSettings()" aria-label="{{::'overview.cards.users.directorySynchronization' | translate}}">
          <i class="icon-settings icon"></i>
        </a>
      </li>
      <li class="status-block__item single-sign-on">
        <i class="icon icon-circle status-indicator" ng-class="card.ssoEnabled ? 'success' : 'disabled' "></i>
        <span translate="overview.cards.users.singleSignOn"></span>
        <a href id="viewSsoSettings" ng-click="card.showSSOSettings()" aria-label="{{::'overview.cards.users.singleSignOn' | translate}}">
          <i class="icon-settings icon"></i>
        </a>
      </li>

      <li class="status-block__item auto-assign-licenses" cr-feature-toggle feature-show="atlas-f3745-auto-assign-licenses">
        <!-- TODO: f3745 - apply logic for values returned by backend, once known -->
        <!-- - currently assume enum of ('ACTIVATED'|'DEACTIVATED'|null) -->
        <i class="icon icon-circle status-indicator" ng-class="card.getAutoAssignLicensesStatusCssClass()"></i>
        <span translate="overview.cards.users.autoAssignLicenses"></span>
        <a href ng-click="card.showEditAutoAssignTemplateModal()" aria-label="{{::'overview.cards.users.autoAssignLicenses' | translate}}">
          <i class="icon-settings icon"></i>
        </a>
      </li>
    </ul>
  </div>
</section>
