<header>
  <div class="overview-header">
  <i class="icon" ng-class="card.icon"></i>
  <span>{{card.name | translate}}</span>
  </div>
</header>
<section ng-class="{ 'row user-card--auto-assign-enabled' : card.features.atlasF3745AutoAssignLicenses }">
  <div ng-if="!card.features.atlasF3745AutoAssignLicenses" class="convert-block">
    <div class="convert-text">
      <div ng-if="!card.showLicenseCard">
        <span class="convert-nr h4">{{(card.usersToConvert | number) || 'N/A'}}</span>&nbsp;
        <span translate="overview.cards.users.convertText" id="convertText"></span>
      </div>
      <div ng-if="card.showLicenseCard">
        <span translate="overview.cards.users.unassignedLicenses"
          translate-values="{licenseNumber: card.licenseNumber, licenseType: card.licenseType}"></span>
      </div>
    </div>
    <button ng-if="!card.showLicenseCard" id="convertButton" class="btn btn--cta" translate="overview.cards.users.convertButton" ng-click="card.openConvertModal()" ng-disabled="card.isConvertButtonDisabled()">
    </button>
    <button ng-if="card.showLicenseCard" id="convertButton" class="btn btn--primary" translate="overview.cards.licenses.manageUsersButton" ng-click="card.manageUsers()">
    </button>
  </div>
  <div ng-if="card.features.atlasF3745AutoAssignLicenses" class="columns medium-6 onboard-block">
    <div>
      <span class="onboard-nr h4">{{ card.usersOnboarded }}</span>
    </div>
    <div class="onboard-users-text">
      <span translate="overview.cards.users.onboardText"></span>
    </div>
    <div ng-if="card.features.autoLicense">
      <a ui-sref="reports">
        <span translate="reports.title"></span>
      </a>
    </div>
  </div>
  <div class="status-block" ng-class="[card.features.atlasF3745AutoAssignLicenses ? 'columns medium-6 status-block--auto-assign-enabled' : 'user-border']">
    <ul>
      <li class="status-block__item directory-synchronization">
        <i class="icon icon-spinner" ng-if="card.isUpdating"></i>
        <i class="icon icon-circle status-indicator" ng-class="{ 'success' : card.dirsyncEnabled, 'disabled': !card.dirsyncEnabled }" ng-if="!card.isUpdating"></i>
        <span translate="overview.cards.users.directorySynchronization"></span>
        <a href id="viewDirSyncSettings" ng-click="card.showDirSyncSettings()" aria-label="{{::'overview.cards.users.directorySynchronization' | translate}}">
          <i class="icon-settings icon"></i>
        </a>
      </li>
      <li class="status-block__item single-sign-on">
        <i class="icon icon-circle status-indicator" ng-class="card.ssoEnabled ? 'success' : 'disabled' "></i>
        <span translate="overview.cards.users.singleSignOn"></span>
        <a href id="viewSsoSettings" ng-click="card.showSSOSettings()" aria-label="{{::'overview.cards.users.singleSignOn' | translate}}">
          <i class="icon-settings icon"></i>
        </a>
      </li>

      <li class="status-block__item auto-assign-licenses" cr-feature-toggle feature-show="atlas-f3745-auto-assign-licenses">
        <i class="icon icon-circle status-indicator" ng-class="card.getAutoAssignLicensesStatusCssClass()"></i>
        <span translate="overview.cards.users.autoAssignLicenses"></span>
        <a href ng-click="card.showEditAutoAssignTemplateModal()" aria-label="{{::'overview.cards.users.autoAssignLicenses' | translate}}">
          <i class="icon-settings icon"></i>
        </a>
      </li>
    </ul>
  </div>
</section>
