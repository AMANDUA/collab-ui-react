<div class="loading" ng-if="squaredUcSetup.processing">
  <i class="icon icon-spinner"></i>
</div>

<form name="squaredUcSetup.form" novalidate  ng-if="!squaredUcSetup.processing">
  <div class="container-fluid service-setup-container">
    <div ng-if="squaredUcSetup.showTimezoneAndVoicemail">
      <formly-form model="squaredUcSetup.model" fields="squaredUcSetup.ftswTimeZoneSelection" form="squaredUcSetup.form"></formly-form>
    </div>
    <div ng-if="squaredUcSetup.showTimezoneAndVoicemail" class="row full service-setup service-setup-regional-settings bottom-margin">
      <label class="control-label" translate="serviceSetupModal.preferredLanguage"></label>
      <p class="description-block" translate="serviceSetupModal.preferredLanguageDescription"></p>
      <div class="medium-4">
        <cs-select
          name="preferredLanguage"
          ng-model="squaredUcSetup.model.site.preferredLanguage"
          options="squaredUcSetup.preferredLanguageOptions"
          labelfield="label"
          valuefield="value"
          placeholder="squaredUcSetup.preferredLanguagePlaceholder"
          filter="false"
          required="true"
        ></cs-select>
      </div>
    </div>
    <div class="row service-setup service-setup-regional-settings bottom-margin" ng-if="squaredUcSetup.ftHuronL10nUserLocale2">
      <label class="control-label" translate="serviceSetupModal.defaultTones"></label>
      <p class="description-block" translate="serviceSetupModal.defaultCountryDescription"></p>
      <div class="medium-4">
        <cs-select
          name="country"
          ng-model="squaredUcSetup.model.site.country"
          options="squaredUcSetup.defaultCountryOptions"
          labelfield="label"
          valuefield="value"
          filter="false"
          placeholder="squaredUcSetup.defaultCountryPlaceholder"
          required="true"
        ></cs-select>
      </div>
    </div>
    <div class="row full bottom-margin">
      <h5 class="title-margin-bottom" translate="serviceSetupModal.dialing"></h5>
      <div class="cs-radio-group columns medium-8">
        <input
          cs-input
          type="radio"
          ng-model="squaredUcSetup.model.dialingHabit"
          id="nationalDialing"
          name="ftswNationalDialingRadio"
          value="{{::squaredUcSetup.NATIONAL}}"
          cs-input-label="{{:: 'serviceSetupModal.nationalDialingTitle' | translate}}"
          cs-input-help-text="{{:: 'serviceSetupModal.nationalDialingDesc' | translate}}">
        <input
          cs-input
          type="radio"
          ng-model="squaredUcSetup.model.dialingHabit"
          id="localDialing"
          name="ftswLocalDialingRadio"
          value="{{::squaredUcSetup.LOCAL}}"
          cs-input-label="{{:: 'serviceSetupModal.localDialingTitle' | translate}}"
          cs-input-help-text="{{:: 'serviceSetupModal.localDialingDesc' | translate}}"
          ng-disabled="!squaredUcSetup.isTerminusCustomer">
      </div>
      <div class="medium-12 columns indent-area-code" ng-if="squaredUcSetup.isTerminusCustomer">
        <label class="cs-input__label" for="areacode-input">{{:: 'serviceSetupModal.localDialingNumberTitle' | translate}}</label>
        <input
          ng-model="squaredUcSetup.model.regionCode"
          id="areacode-input"
          class="medium-2 columns text-center"
          type="text"
          ng-disabled="squaredUcSetup.model.dialingHabit === squaredUcSetup.NATIONAL">
      </div>
      <p class="row full columns warning terminus-warning indent-area-code" ng-if="!squaredUcSetup.isTerminusCustomer"><i class="icon icon-warning"></i>{{::'serviceSetupModal.warning.localDialing' | translate}}</p>
    </div>
    <formly-form model="squaredUcSetup.model" fields="squaredUcSetup.ftswExtensionLengthSelection" form="squaredUcSetup.form"></formly-form>
    <formly-form model="squaredUcSetup.model" fields="squaredUcSetup.ftswExtensionRangeSelection" form="squaredUcSetup.form"></formly-form>
    <div ng-if="squaredUcSetup.showTimezoneAndVoicemail">
      <formly-form model="squaredUcSetup.model" fields="squaredUcSetup.ftswVoicemailPrefixSelection" form="squaredUcSetup.form"></formly-form>
    </div>
    <div cr-feature-toggle feature-show="huron-customer-cos">
      <uc-cos-form
        env="ftsw"
        input-model="squaredUcSetup.model.cosRestrictions"
        on-change-fn="squaredUcSetup.setCustomerCosRestrictions(restrictions)"
        premium-numbers="squaredUcSetup.premiumNumbers">
      </uc-cos-form>
    </div>
    <formly-form model="squaredUcSetup.model" fields="squaredUcSetup.ftswSteeringDigitSelection" form="squaredUcSetup.form"></formly-form>
    <p class="row full columns warning terminus-warning indent-area-code" ng-if="!squaredUcSetup.isTerminusCustomer"><i class="icon icon-warning"></i>{{::'serviceSetupModal.warning.outboundDialing' | translate}}</p>
    <div ng-if="squaredUcSetup.showTimezoneAndVoicemail">
      <formly-form model="squaredUcSetup.model" fields="squaredUcSetup.ftswCompanyVoicemailSelection" form="squaredUcSetup.form"></formly-form>
    </div>
  </div>
</form>
