<div class="user-csv-export">
  <div ng-if="$ctrl.displayAsLink">
    <!-- when displayed as a link, can only export the Csv file -->
    <div ng-if="!$ctrl.isDownloading">
      <a href="" ng-click="$ctrl.exportCsv()">{{$ctrl.asLink}}</a>
    </div>
    <div class="cancel" ng-if="$ctrl.isDownloading">
      <span class="icon icon-spinner"></span>
      <a href="" translate="userManage.bulk.cancelExport" ng-click="$ctrl.cancelDownload()"></a>
    </div>
  </div>
  <div ng-if="!$ctrl.displayAsLink">
    <!-- when displayed as component, use can choose to export Csv or Template -->
    <div ng-if="!$ctrl.isDownloading">
      <div ng-click="$ctrl.exportCsv()" class="hotspot">
        <div class="icon icon-upload-contain"></div>
        <div translate="userManage.bulk.export"></div>
      </div>
      <div class="prompt">
        <span translate="userManage.bulk.exportPrompt"></span>
        <label class="download-template" translate="userManage.bulk.downloadCsvTemplate" ng-click="$ctrl.downloadTemplate()"></label>
      </div>
    </div>
    <div ng-if="$ctrl.isDownloading">
      <div class="icon icon-spinner"></div>
      <div class="prompt">
        <label class="cancel-download" translate="userManage.bulk.cancelExport" ng-click="$ctrl.cancelDownload()"></label>
      </div>
    </div>
  </div>
</div>
