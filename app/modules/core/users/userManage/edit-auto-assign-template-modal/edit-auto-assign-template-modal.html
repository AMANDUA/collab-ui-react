<multi-step-modal
  l10n-title="{{:: $ctrl.isEditTemplateMode ? 'userManage.org.modifyAutoAssign.title' : 'userManage.autoAssignTemplate.edit.title' }}"
  l10n-warning-footer="{{ $ctrl.footerWarningL10nKey }}"
  dismiss="$ctrl.dismissModal()"
  back="$ctrl.back()"
  next="$ctrl.next()"
  next-disabled="!$ctrl.allowNext()"
  show-body-scroll-indicator="true">
  <h4 translate="userManage.autoAssignTemplate.edit.header"></h4>
  <p translate="userManage.autoAssignTemplate.edit.description"></p>
  <p>
    <span translate="userManage.autoAssignTemplate.edit.note"></span>
    <a>
      <i class="icon icon-info"
        tabindex="0"
        tooltip="{{::'userManage.autoAssignTemplate.edit.tooltip' | translate}}"
        tooltip-placement="bottom"
        tooltip-trigger="focus mouseenter"
        tooltip-animation="false"
        aria-label="{{::'userManage.autoAssignTemplate.edit.tooltip' | translate}}">
      </i>
    </a>
  </p>
  <div class="modal-content__assignable-services"
    ng-if="$ctrl.autoAssignTemplateData"
  >
    <assignable-services
      subscriptions="$ctrl.sortedSubscriptions"
      on-update="$ctrl.recvUpdate($event)"
      auto-assign-template-data="$ctrl.autoAssignTemplateData">
    </assignable-services>
    <hybrid-services-entitlements-panel
      allow-remove="true"
      entitlements-callback="$ctrl.recvHybridServicesEntitlementsUpdate(entitlements)"
      restore-instance="$ctrl.getHybridServices()"
      restore-user-entitlements="$ctrl.getUserEntitlements()"
      save-instance="$ctrl.setHybridServices(hybridServices)"
      is-huron-call-license-selected="$ctrl.isHuronCallLicenseSelected"
      has-license-selections="$ctrl.hasLicenseSelections"
    >
    </hybrid-services-entitlements-panel>
  </div>
  <div class="text-center"
    ng-if="!$ctrl.autoAssignTemplateData"
  >
    <i class="icon icon-spinner icon-5x"></i>
  </div>
</multi-step-modal>
