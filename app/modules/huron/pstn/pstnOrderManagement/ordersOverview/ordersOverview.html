<cs-sp-container class="pstn-order-overview">
  <cs-sp-section>
    <div ng-if="$ctrl.isPartner" class="section-title-row">
      <span class="section-name" translate="customerPage.pstnOrders"></span>
    </div>
    <div class="filter bottom-pad">
      <input id="orderSearchInput" type="text" class="form-control" ng-model="$ctrl.filter" ng-model-options="{ debounce: 250 }" placeholder="{{::'pstnOrderOverview.searchPlaceholder' | translate}}">
      <i class="icon icon-search"></i>
    </div>
    <div class="grid-refresh" ng-if="$ctrl.loading">
      <i class='icon icon-spinner icon-2x'></i>
    </div>
    <ul class="list-group">
      <li id="ordersList" class="feature" ng-repeat="order in filteredOrders = ($ctrl.orders | filter:$ctrl.filter | orderBy:'-sortDate')">  
        <a ui-sref="{{$ctrl.isPartner ? 'customer-overview.orderDetail({currentOrder: order, isCarrierByopstn: $ctrl.isCarrierByopstn})' : 'customerPstnOrdersOverview.orderDetail({currentOrder: order, currentCustomer: $ctrl.currentCustomer, isCarrierByopstn: $ctrl.isCarrierByopstn})'}}">
          <span  ng-switch="$ctrl.isCarrierByopstn" class="feature-name">
            <span id="orderName" ng-switch-when="false" translate="pstnOrderDetail.orderNumber" translate-values="{orderId: order.carrierOrderId}"></span>
            <span id="orderDate" ng-switch-when="true">{{order.formattedDate}}</span>
          </span>
          <span class="feature-status">
            <span id="orderStatus">{{order.status}}</span>
          </span>
          <i class="feature-arrow"></i>
        </a>
      </li>
    </ul>
  </cs-sp-section>
</cs-sp-container>
