<div id="decision{{ schedule + index }}" class="aa-decision-message-panel">
  <div class="row aa-flex-row">
    <cs-select id="ifDecision{{ schedule + index }}" name="ifDecision" ng-model="aaDecisionCtrl.ifOption" options="aaDecisionCtrl.ifOptions" icon="icon-chevron-down" labelfield="label" valuefield="value" placeholder="aaDecisionCtrl.selectConditionPlaceholder" ng-change="aaDecisionCtrl.setIfDecision()">
    </cs-select>
  </div>
  <div ng-switch="aaDecisionCtrl.ifOption.value">
     <cs-select ng-switch-when="sessionVariable" ng-model="aaDecisionCtrl.sessionVarOption" options="aaDecisionCtrl.sessionVarOptions" icon="icon-chevron-down" placeholder="aaDecisionCtrl.selectVariablePlaceholder" ng-change= "aaDecisionCtrl.setIfDecision()">
     </cs-select>
    <p ng-if="aaDecisionCtrl.ifOption.value != 'callerReturned' && aaDecisionCtrl.ifOption.value != ''" translate="autoAttendant.actionIs"></p> 
    <div ng-switch-when="Original-Caller-Number">
      <textarea class="aa-decision-textarea" aa-keypress ng-change="aaDecisionCtrl.update('Original-Caller-Number')" ng-model="aaDecisionCtrl.ifOption.buffer" type="text" id="aaDecisionCallerNumber{{ schedule + index }}" name="callerNumberCalled" }}" rows="4" maxlength="2000"></textarea>
      <p class="cs-input__help-text" translate="autoAttendant.callerNumberInfo"></p>
    </div>
    <div ng-switch-when="Original-Called-Number">
      <textarea class="aa-decision-textarea" aa-keypress ng-change="aaDecisionCtrl.update('Original-Called-Number')" ng-model="aaDecisionCtrl.ifOption.buffer" type="text" id="aaDecisionNumberDialed{{ schedule + index }}" name="callerNumberDialed" }}" rows="4" maxlength="2000"></textarea>
      <p class="cs-input__help-text" translate="autoAttendant.callerNumberInfo"></p>
    </div>
    <div ng-switch-when="Original-Remote-Party-ID">
      <textarea class="aa-decision-textarea" aa-keypress ng-change="aaDecisionCtrl.update('Original-Remote-Party-ID')" ng-model="aaDecisionCtrl.ifOption.buffer" type="text" id="aaDecisionCallerNamed{{ schedule + index }}" name="callerNamed" }}" rows="4" maxlength="2000"></textarea>
      <p class="cs-input__help-text" translate="autoAttendant.callerNameInfo"></p>
    </div>
    <div ng-switch-when="Original-Caller-Country-Code">
      <textarea class="aa-decision-textarea" aa-keypress ng-change="aaDecisionCtrl.update('Original-Caller-Country-Code')" ng-model="aaDecisionCtrl.ifOption.buffer" type="text" id="aaDecisionCountryCode{{ schedule + index }}" name="countryCode" }}" rows="4" maxlength="2000"></textarea>
      <p class="cs-input__help-text" translate="autoAttendant.countryCodeInfo"></p>
    </div>
    <div ng-switch-when="Original-Caller-Area-Code">
      <textarea class="aa-decision-textarea" aa-keypress ng-change="aaDecisionCtrl.update('Original-Caller-Area-Code')" ng-model="aaDecisionCtrl.ifOption.buffer" type="text" id="aaDecisionAreaCode{{ schedule + index }}" name="areaCode" }}" rows="4" maxlength="2000"></textarea>
      <p class="cs-input__help-text" translate="autoAttendant.areaCodeInfo"></p>
    </div>
    <div ng-switch-when="sessionVariable">
      <textarea class="aa-decision-textarea" aa-keypress ng-change="aaDecisionCtrl.update('sessionVariable')" ng-model="aaDecisionCtrl.ifOption.buffer" type="text" id="aaDecisionSessionVariable{{ schedule + index }}" name="sessionVariable" }}" rows="4" maxlength="2000"></textarea>
      <p class="cs-input__help-text" translate="autoAttendant.sessionVariableInfo"></p>
    </div>
    <!-- not implemented as yet -->
    <!--div ng-switch-when="callerReturned">
      <p translate="autoAttendant.callerReturnedWhen"></p>
      <cs-select options="aaDecisionCtrl.callerReturnedOptions" ng-model="aaDecisionCtrl.callerReturnedOption" icon="icon-chevron-down" labelfield="label" valuefield="value" ng-change="aaDecisionCtrl.update(0)"></cs-select> 
    </div-->
  </div>
  <div class="row aa-flex-row aa-then">
    <h3 class="text-info " translate="autoAttendant.thenDecision"></h3>
  </div>
  <div class="row">
     <cs-select id="thenDecision{{ schedule + index }}" name="thenDecision" options="aaDecisionCtrl.thenOptions" icon="icon-chevron-down" labelfield="label" valuefield="value" ng-model="aaDecisionCtrl.thenOption" placeholder="aaDecisionCtrl.selectActionPlaceholder" ng-change="aaDecisionCtrl.saveThenOption()">
     </cs-select>
  </div>
  <div ng-switch="aaDecisionCtrl.thenOption.value" class="row">
    <aa-route-to-aa ng-switch-when="goto" aa-schedule="{{schedule}}" aa-from-decision="true" aa-index="index"></aa-route-to-aa>
    <aa-route-to-hg ng-switch-when="routeToHuntGroup"  aa-schedule="{{schedule}}" aa-from-decision="true" aa-index="index"></aa-route-to-hg>
    <aa-route-to-user ng-switch-when="routeToVoiceMail"  voicemail=true aa-schedule="{{schedule}}" aa-index="index" aa-from-decision="true"></aa-route-to-user>
    <aa-route-to-user ng-switch-when="routeToUser"  aa-schedule="{{schedule}}" aa-index="index" aa-from-decision="true"></aa-route-to-user>
    <aa-route-to-ext-num ng-switch-when="route" aa-schedule="{{schedule}}" aa-from-decision="true" aa-index="index"></aa-route-to-ext-num>
    <aa-route-to-queue ng-switch-when="routeToQueue" aa-schedule="{{schedule}}" aa-from-decision="true" aa-index="index" aa-queues="{{aaDecisionCtrl.queues}}"></aa-route-to-queue>
  </div>
</div>
