<div ng-form="callForwardForm" class="cs-form">
  <div class="cs-form__section">
    <div class="section__info">
      <h4 class="section__title" translate="callForwardPanel.title"></h4>
    </div>
    <div class="section__content">
      <input
        cs-input
        type="radio"
        id="callForwardNone"
        name="callForwardRadio"
        ng-model="$ctrl.forwardState"
        ng-value="'none'"
        ng-change="$ctrl.onCallFwdNoneChange()"
        cs-input-label="{{::'callForwardPanel.forwardNoCalls'|translate}}">

      <input
        cs-input
        type="radio"
        id="callForwardAll"
        name="callForwardRadio"
        ng-model="$ctrl.forwardState"
        ng-value="'all'"
        ng-change="$ctrl.onCallFwdAllChange()"
        cs-input-label="{{::'callForwardPanel.forwardAllCalls'|translate}}">

      <div id='all' class="cs-input-group cs-input--nested-1" ng-if="$ctrl.forwardState === 'all'">
        <div ng-if="$ctrl.forwardAll.voicemail === false">
          <cs-call-destination
            class="row"
            model="$ctrl.forwardAll.destination"
            size="medium-12"
            inputs="$ctrl.forwardOptions"
            country-code="$ctrl.countryCode"
            select-type="select"
            custom-number-translations="$ctrl.customTranslations"
            custom-number-validation-pattern="$ctrl.customNumberValidationPatern"
            input-translations="$ctrl.inputTranslations"
            on-change-fn="$ctrl.onCallFwdAllChange(model)">
          </cs-call-destination>
        </div>
        <div ng-if="$ctrl.showVoicemail()">
          <input
            cs-input
            type="checkbox"
            id="allDirectVoicemail"
            name="allDirectVoicemail"
            ng-model="$ctrl.forwardAll.voicemail"
            cs-input-label="{{::'callForwardPanel.directVoicemail' | translate}}"
            ng-click="$ctrl.onVoicemailAll()">
         </div>
      </div>

      <input
        cs-input
        type="radio"
        id="callForwardBusy"
        name="callForwardRadio"
        ng-model="$ctrl.forwardState"
        ng-value="'busy'"
        ng-change="$ctrl.onCallFwdBusyChange()"
        cs-input-label="{{::'callForwardPanel.forwardBusyNoAnswer'|translate}}">

      <div ng-if="$ctrl.forwardState === 'busy'">
        <div class="cs-input-group cs-input--nested-1">
          <label for="forwardNABCalls" translate="callForwardPanel.internalAndExternal"></label>
          <div class="cs-input-group" style="display:flex">
            <input
              cs-input
              type= "number"
              name="callForwardTimer"
              ng-model="$ctrl.callForwardTimer"
              required="true"
              min="1" max="300"
              cs-input-label="{{:: 'callForwardPanel.forwardBusyNoAnswerTimerDescription' | translate }}"
              cs-input-secondary-label="{{:: 'callForwardPanel.forwardBusyNoAnswerTimerSeconds' | translate}}"
              ng-change="$ctrl.onCFNATimerChange()"
              cs-input-messages="$ctrl.errorMsg"
              ng-class="{'error': $ctrl.isError}">
          </div>
          <div ng-if="$ctrl.busyInternal.voicemail === false">
            <cs-call-destination
              class="row"
              model="$ctrl.busyInternal.destination"
              size="medium-12"
              country-code="$ctrl.countryCode"
              inputs="$ctrl.forwardOptions"
              select-type="select"
              custom-number-translations="$ctrl.customTranslations"
              custom-number-validation-pattern="$ctrl.customNumberValidationPatern"
              input-translations="$ctrl.inputTranslations"
              on-change-fn="$ctrl.onCallFwdBusyChange(model)">
            </cs-call-destination>
          </div>
          <div ng-if="$ctrl.showVoicemail()">
            <input
              cs-input
              type="checkbox"
              id="internalDirectVoicemail"
              name="internalDirectVoicemail"
              ng-model="$ctrl.busyInternal.voicemail"
              cs-input-label="{{::'callForwardPanel.directVoicemail' | translate}}"
              ng-click="$ctrl.onVoicemailBusy()">
           </div>
             <input
              cs-input
              type="checkbox"
              id="ckForwardExternalCalls"
              name="ckForwardExternalCalls"
              ng-model="$ctrl.forwardExternalCallsDifferently"
              cs-input-label="{{::'callForwardPanel.forwardExternal'|translate}}"
              ng-click="$ctrl.onCallForwardBusyDifferentlyChange()">
          </div>
          <div class="cs-input-group cs-input--nested-1" ng-if="$ctrl.forwardExternalCallsDifferently">
            <div ng-if="$ctrl.busyExternal.voicemail === false">
              <cs-call-destination
                class="row"
                model="$ctrl.busyExternal.destination"
                size="medium-12"
                country-code="$ctrl.countryCode"
                inputs="$ctrl.forwardOptions"
                select-type="select"
                custom-number-translations="$ctrl.customTranslations"
                custom-number-validation-pattern="$ctrl.customNumberValidationPatern"
                input-translations="$ctrl.inputTranslations"
                on-change-fn="$ctrl.onCallFwdBusyExternalChange(model)">
              </cs-call-destination>
            </div>
            <div ng-if="$ctrl.showVoicemail()">
              <input
                cs-input
                type="checkbox"
                id="externalDirectVoicemail"
                name="externalDirectVoicemail"
                ng-model="$ctrl.busyExternal.voicemail"
                cs-input-label="{{::'callForwardPanel.directVoicemail' | translate}}"
                ng-click="$ctrl.onVoicemailBusyExternal()">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
