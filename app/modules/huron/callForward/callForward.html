<div ng-form="callForwardForm" class="cs-form">
  <div class="cs-form__section">
    <div class="section__info">
      <h4 class="section__title" translate="callForwardPanel.title"></h4>
    </div>
    <div class="section__content">
      <input
        cs-input
        type="radio"
        id="callForwardNone"
        name="callForwardRadio"
        ng-model="$ctrl.forwardState"
        ng-value="'none'"
        ng-change="$ctrl.onCallFwdNoneChange()"
        cs-input-label="{{::'callForwardPanel.forwardNoCalls'|translate}}">

      <input
        cs-input
        type="radio"
        id="callForwardAll"
        name="callForwardRadio"
        ng-model="$ctrl.forwardState"
        ng-value="'all'"
        ng-change="$ctrl.onCallFwdAllChange()"
        cs-input-label="{{::'callForwardPanel.forwardAllCalls'|translate}}">

      <div id='all' class="cs-input-group cs-input--nested-1" ng-if="$ctrl.forwardState === 'all'">
        <div ng-if="$ctrl.voicemailAllEnabled === false">
          <cs-call-destination
            class="row"
            model="$ctrl.forwardAllCalls"
            size="medium-12"
            inputs="$ctrl.forwardOptions"
            select-type="select"
            custom-number-translations="$ctrl.customTranslations"
            external-number-region-code-fn="$ctrl.getRegionCode()"
            on-change-fn="$ctrl.onCallFwdAllChange(model)">
          </cs-call-destination>
         </div>
         <input
           cs-input
           type="checkbox"
           id="allDirectVoicemail"
           name="allDirectVoicemail"
           ng-model="$ctrl.voicemailAllEnabled"
           isdisabled="$ctrl.voicemailAllEnabled == false"
           cs-input-label="{{::'callForwardPanel.directVoicemail' | translate}}"
          ng-click="$ctrl.onVoicemailAll()">
      </div>

      <input
        cs-input
        type="radio"
        id="callForwardBusy"
        name="callForwardRadio"
        ng-model="$ctrl.forwardState"
        ng-value="'busy'"
        ng-change="$ctrl.onCallFwdBusyChange()"
        cs-input-label="{{::'callForwardPanel.forwardBusyNoAnswer'|translate}}">

      <div ng-if="$ctrl.forwardState === 'busy'">
        <div class="cs-input-group cs-input--nested-1">
          <label for="forwardNABCalls" translate="callForwardPanel.internalAndExternal"></label>
          <div ng-if="$ctrl.internalVoicemailEnabled === false">
            <cs-call-destination
              class="row"
              model="$ctrl.forwardNABCalls"
              size="medium-12"
              inputs="$ctrl.forwardOptions"
              select-type="select"
              custom-number-translations="$ctrl.customTranslations"
              external-number-region-code-fn="$ctrl.getRegionCode()"
              on-change-fn="$ctrl.onCallFwdBusyChange(model)">
            </cs-call-destination>
          </div>
          <input
            cs-input
            type="checkbox"
            id="internalDirectVoicemail"
            name="internalDirectVoicemail"
            ng-model="$ctrl.internalVoicemailEnabled"
            isdisabled="$ctrl.internalVoicemailEnabled == false"
            cs-input-label="{{::'callForwardPanel.directVoicemail' | translate}}"
            ng-click="$ctrl.onVoicemailBusy()">
            <input
            cs-input
            type="checkbox"
            id="ckForwardExternalCalls"
            name="ckForwardExternalCalls"
            ng-model="$ctrl.forwardExternalCalls"
            cs-input-label="{{::'callForwardPanel.forwardExternal'|translate}}">
        </div>
        <div class="cs-input-group cs-input--nested-1" ng-if="$ctrl.forwardExternalCalls">
          <div ng-if="$ctrl.externalVoicemailEnabled === false">
            <cs-call-destination
              class="row"
              model="$ctrl.forwardExternalNABCalls"
              size="medium-12"
              inputs="$ctrl.forwardOptions"
              select-type="select"
              custom-number-translations="$ctrl.customTranslations"
              external-number-region-code-fn="$ctrl.getRegionCode()"
              on-change-fn="$ctrl.onCallFwdBusyExternalChange(model)">
            </cs-call-destination>
          </div>
          <input
            cs-input
            type="checkbox"
            id="externalDirectVoicemail"
            name="externalDirectVoicemail"
            ng-model="$ctrl.externalVoicemailEnabled"
            isdisabled="$ctrl.externalVoicemailEnabled == false"
            cs-input-label="{{::'callForwardPanel.directVoicemail' | translate}}"
            ng-click="$ctrl.onVoicemailBusyExternal()">
        </div>
        </div>
      </div>
    </div>
  </div>
</div>
