<div class="modal-header">
  <button type="button" class="close" ng-click="$ctrl.dismiss()" aria-label="{{::'common.close' | translate}}"></button>
  <h1 class="modal-title" translate="hercules.office365SetupModal.title"></h1>
</div>
<div class="modal-body" ng-if="!$ctrl.success">
  <h2 translate="hercules.office365SuccessModal.test.subtitle"></h2>
  <div ng-form="$ctrl.emailTestingForm" novalidate>
    <div class="row">
      <div class="cs-input-group medium-12 columns">
        <input
          cs-input
          ng-focus="true"
          type="email"
          name="email"
          cs-input-group-size="medium-10"
          cs-input-label="{{$ctrl.inputLabel}}"
          cs-input-messages="$ctrl.validationMessages"
          ng-keypress="$ctrl.handleKeypress($event)"
          ng-required="true"
          ng-model="$ctrl.email">
      </div>
    </div>
  </div>
</div>
<div class="modal-body" ng-if="$ctrl.success">
  <h2 translate="hercules.office365SuccessModal.success.subtitle"></h2>
  <p translate="hercules.office365SuccessModal.success.line1"></p>
  <ul>
    <li translate="hercules.office365SuccessModal.success.line2" translate-value-onclick="$ctrl.goToUsers()" translate-compile></li>
    <li translate="hercules.office365SuccessModal.success.line3" translate-value-onclick="$ctrl.manageUsers()" translate-compile></li>
  </ul>
  <p translate="hercules.office365SuccessModal.success.line4" translate-compile></p>
</div>
<div class="modal-footer" ng-if="!$ctrl.success">
  <button cs-btn class="btn btn-default" ng-click="$ctrl.dismiss()">
    <span translate="common.cancel"></span>
  </button>
  <button cs-btn class="btn btn-primary" ng-disabled="!$ctrl.emailTestingForm.$valid" loading="$ctrl.loading" ng-click="$ctrl.test($ctrl.email)">
    <span translate="common.test"></span>
  </button>
</div>
<div class="modal-footer" ng-if="$ctrl.success">
  <button cs-btn class="btn btn-primary" ng-click="$ctrl.close()">
    <span translate="common.done"></span>
  </button>
</div>
