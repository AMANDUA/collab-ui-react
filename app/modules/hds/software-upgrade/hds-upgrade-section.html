<cs-sp-section>
  <div class="section-title-row section-name" translate="hercules.softwareUpgrade.softwareUpgrade"></div>
  <div class="hercules-upgrade-section">
    <div ng-if="!$ctrl.showUpgradeProgress">
      <p ng-if="!$ctrl.softwareUpgrade.isUpgradeAvailable && $ctrl.softwareUpgrade.clusterStatus !== 'installing'" translate="hercules.softwareUpgrade.upToDate" translate-values="{connectorType: $ctrl.localizedServiceName}"></p>
      <p ng-if="!$ctrl.softwareUpgrade.isUpgradeAvailable && $ctrl.softwareUpgrade.clusterStatus === 'installing'" translate="mediaFusion.upgradeClusters.installing"></p>
      <p ng-if="$ctrl.softwareUpgrade.isUpgradeAvailable" translate="hercules.softwareUpgrade.upgradePossible" translate-values="{connectorType: $ctrl.localizedServiceName, availableVersion: $ctrl.softwareUpgrade.availableVersion}"></p>
      <button class="btn btn--primary"
              ng-click="$ctrl.showUpgradeNowDialog()"
              ng-disabled="!$ctrl.softwareUpgrade.isUpgradeAvailable || $ctrl.softwareUpgrade.clusterStatus === 'installing'"
              translate="hercules.softwareUpgrade.upgradeNow">
      </button>
      <p ng-if="$ctrl.softwareUpgrade.showUpgradeWarning()"><i class="icon icon-warning no-data-warning hercules-update-warning-text"></i><span  class="hercules-update-warning-text" translate="mediaFusion.upgradeClusters.upgradeWarning"></span></p>
    </div>
    <div ng-if="$ctrl.showUpgradeProgress">
      <div ng-if="$ctrl.fakeUpgrade">
        <div class="progressbar-info">
          <span class="progressbar-label" translate="mediaFusion.upgradeClusters.pending"></span>
          <span class="progressbar-progress">0 / {{$ctrl.softwareUpgrade.numberOfHosts}}</span>
        </div>
        <progressbar animate="true" value="10" max="100"></progressbar>
      </div>
      <div ng-if="!$ctrl.fakeUpgrade">
        <div class="progressbar-info">
          <span ng-show="!$ctrl.upgradeJustFinished && $ctrl.upgradeDetails.upgradingHostname !== ''" class="progressbar-label" translate="mediaFusion.upgradeClusters.upgradingHost" translate-values="{host: $ctrl.upgradeDetails.upgradingHostname, version: $ctrl.softwareUpgrade.provisionedVersion}"></span>
          <span ng-show="!$ctrl.upgradeJustFinished && $ctrl.upgradeDetails.upgradingHostname === ''" class="progressbar-label" translate="mediaFusion.upgradeClusters.upgradeProcessInitiating" translate-values="{version: $ctrl.softwareUpgrade.provisionedVersion}"></span>
          <span ng-if="$ctrl.upgradeJustFinished" class="progressbar-label" translate="mediaFusion.upgradeClusters.upgradeDone"></span>
          <span class="progressbar-progress">{{$ctrl.upgradeDetails.numberOfUpsmthngHosts}} / {{$ctrl.softwareUpgrade.numberOfHosts}}</span>
        </div>
        <progressbar ng-show="!$ctrl.upgradeJustFinished" animate="true" value="$ctrl.upgradeDetails.numberOfUpsmthngHosts" max="$ctrl.softwareUpgrade.numberOfHosts"></progressbar>
        <progressbar ng-show="$ctrl.upgradeJustFinished" type="success" value="1" max="1"></progressbar>
      </div>
    </div>
  </div>
</cs-sp-section>
